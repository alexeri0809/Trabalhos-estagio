<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Ãrea do Aluno</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/auth.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const user = checkAuth(); // Verifica se o aluno estÃ¡ logado
        const welcomeSection = document.getElementById("welcome-content");
        
        // Gera o conteÃºdo dinÃ¢mico mantendo o estilo de cartÃµes (cards)
        welcomeSection.innerHTML = `
          <div class="card">
            <h2>Bem-vindo, ${user.name} 
                <span class="role-badge role-${user.role}">${user.role}</span>
            </h2>
            <p>Escolha o seu nÃ­vel ou continue onde parou.</p>
            <button onclick="logout()" style="background: #444; color: white;">Sair da Conta</button>
          </div>
        `;
      });
    </script>
</head>
<body>
<nav>
    <div class="nav-container" style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
        
        <div class="logo" style="font-weight: bold; color: #ff8a00; font-size: 1.2rem;">
            ğŸ¸ Guitarra Academy
        </div>

        <div class="nav-links" style="display: flex; gap: 15px; align-items: center;">
            <a href="index.html" class="nav-link">InÃ­cio</a>
            
            <div class="dropdown">
                <a href="javascript:void(0)" class="nav-link" onclick="toggleDropdown()">NÃ­veis â–¼</a>
                <div id="myDropdown" class="dropdown-content">
                    <a href="niveis/iniciante.html">ğŸŸ¢ Iniciante</a>
                    <a href="niveis/intermedio.html">ğŸŸ¡ IntermÃ©dio</a>
                    <a href="niveis/avancado.html">ğŸ”´ AvanÃ§ado</a>
                </div>
            </div>

            <a href="escolhervideo.html" class="nav-link">Videos</a>
            <a href="area_aluno.html" class="nav-link">Ãrea Aluno</a>
            <div id="auth-button-container"></div>
        </div>
    </div>
</nav>

    <div class="container">
        
        <div id="welcome-content"></div>

        <div class="card">
            <h3>Selecione o seu NÃ­vel</h3>
            <div class="level-menu" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 15px;">
                <button onclick="location.href='niveis/iniciante.html'" class="btn">ğŸŸ¢ Iniciante</button>
                <button onclick="location.href='niveis/intermedio.html'" class="btn">ğŸŸ¡ IntermÃ©dio</button>
                <button onclick="location.href='niveis/avancado.html'" class="btn">ğŸ”´ AvanÃ§ado</button>
            </div>
        </div>

        <div style="margin-top: 20px;">
            <a href="index.html" class="back-button" style="text-decoration: none;">â† Voltar ao InÃ­cio</a>
        </div>

    </div>

    <button class="chat-button">ğŸ’¬ Chat com Professor</button>
<script>
function toggleDropdown() {
    document.getElementById("myDropdown").classList.toggle("show");
}

// Fecha o menu se o utilizador clicar fora dele
window.onclick = function(event) {
  if (!event.target.matches('.nav-link')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    for (var i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script>
</body>
</html>